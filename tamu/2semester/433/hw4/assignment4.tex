\documentclass[11pt]{article}

\usepackage{fullpage} 
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{pgf}
\usepackage{tikz}
\usetikzlibrary{arrows,automata}
\usepackage{indentfirst}

\newcommand{\question}[2] {\vspace{0.3in}\noindent{\subsection*{Question #1. #2} \vspace{0.15in}}}

\renewcommand{\part}[1] {{\vspace{0.15in}\noindent\textbf (#1)} \vspace{0.10in}}



%  ----------------------------------------------------------------
%                         Start here
% ----------------------------------------------------------------
 
\begin{document}

\title{Assignment \#4} %Replace X with the appropriate number
\author{\Large Gustavo Estrela de Matos\\ %Replace with your name
CSCE 433: Formal Languages and Automata} %If necessary, replace with your course number and title
\date{\today} 

\maketitle

\question{1}{}




\question{2}{}

\part{a} 

\par Describing each state with a regular expression with strings that take us to an acceptance state we can build the system:

\begin{center}
$
\begin{cases}
q_0 = \epsilon q_1 + bq_2 \\
q_1 = a q_1 + \epsilon q_2 + \epsilon \\
q_2 = \epsilon
\end{cases}
$
\end{center}

\begin{itemize}
    \item{Substitute $q_2$ into the second equation
    \begin{flalign*}
        q_1 &= a q_1 + \epsilon + \epsilon \\
            &= a^* \textup{ (by Arden's Lemma)}
    \end{flalign*}
    }

    \item{Substitute $q_1$ into the first equation
    \begin{flalign*}
       q_0 &= \epsilon a^* + b \epsilon \\
           &= a^* + b
    \end{flalign*}
    }
\end{itemize}

\par Since $q_0$ is the start state of the NFA, we have that the regular expression that describes this NFA is $a^* + b$.


\part{b}

\par Describing each state with a regular expression with strings that take us to an acceptance state we can build the system:

\begin{center}
$
\begin{cases}
q_0 = 0 q_1 + 1 q_2 + \epsilon \\
q_1 = 0 q_0 + 1 q_3 \\
q_2 = 0 q_3 + 1 q_0 \\
q_3 = 0 q_2 + 1 q_1
\end{cases}
$
\end{center}

\begin{itemize}
    \item{Substitute $q_1$ and $q_2$ into the last equation
    \begin{flalign*}
        q_3 &= 0 (0 q_3 + 1 q_0) + 1 (0 q_0 + 1 q_3) \\
            &= 00 q_3 + 01 q_0 + 10 q_0 + 11 q_3 \\
            &= (00 + 11) q_3 + (01 + 10) q_0 \\
            &= (00 + 11)^*(01 + 10) q_0 \textup{ (by Arden's Lemma)}
    \end{flalign*}
    }

    \item{Substitute $q_3$ into the second and third equation
    \begin{flalign*}
        q_1 &= 0 q_0 + 1 ((00 + 11)^* (01 + 10) q_0) \\
            &= 0 q_0 + 1 (00 + 11)^* (01 + 10) q_0   \\
            &= (1 (00 + 11)^* (01 + 10) + 0)q_0  \\
        \\
        q_2 &= 1 q_0 + 0 ((00 + 11)^* (01 + 10) q_0) \\
            &= 1 q_0 + 0 (00 + 11)^* (01 + 10) q_0   \\
            &= (0 (00 + 11)^* (01 + 10) + 1)q_0  
    \end{flalign*}
    }

    \item{Substitute $q_1$ and $q_2$ into the first equation
    \begin{flalign*}
        q_0 &= 0 ((1 (00 + 11)^* (01 + 10) + 0)q_0) + 1 ((0 (00 + 11)^* (01 + 10) + 1)q_0) \\
            &= (01 (00 + 11)^* (01 + 10) + 00)q_0 + (10 (00 + 11)^* (01 + 10) + 11)q_0 \\
            &= (01 (00 + 11)^* (01 + 10) + 00 + 10 (00 + 11)^* (01 + 10) + 11) q_0 \\
            &= ((01 + 10) (00 + 11)^* (01 + 10) + 00 + 11) q_0 \\
            &= ((01 + 10) (00 + 11)^* (01 + 10) + 00 + 11)^* \textup{ (by Arden's Lemma)} 
    \end{flalign*}
        
        }
\end{itemize}

\par Since $q_0$ is the start state of the NFA, we have that the regular expression that describes this NFA is $((01 + 10) (00 + 11)^* (01 + 10) + 00 + 11)^*$.





\question{3}{}

\part{a} $G = (V, \Sigma, R, S)$ where:
\begin{itemize}
    \item{$V = \{S\}$}
    \item{$\Sigma = \{a, b\}$}
\end{itemize}
    \par Note that $\epsilon \in L_1$, therefore our first rule is $S \rightarrow \epsilon$. To build other strings we have to add $1$'s into the end and twice this number of $0$'s at the beggining of the string, then the second rule is $S \rightarrow 00S1$.
\begin{itemize}
    \item {$R = \{S \rightarrow \epsilon$, $S \rightarrow 00S1\}$}
\end{itemize}


\part{b} $G = (V, \Sigma, R, S)$ where:

\begin{itemize}
    \item{$V = \{S\}$}
    \item{$\Sigma = \{a, b\}$}
\end{itemize}

\par Note that $\epsilon \in L_1$, therefore our first rule is $S \rightarrow \epsilon$. To build other strings of this language we have to guarantee that $m \geq n$ and keep $m$ and $n$ both odd or even. Which means that:

\par 1 $S \rightarrow aSb$; whenever adding an $a$ you have to add a new $b$ to keep $m \geq n$ and $m - n$ even.
\par 2 $S \rightarrow Sbb$; whenever adding a $b$ we need to add two of them to keep $m - n$ even.
\par Therefore the rules for this language are:

\begin{itemize}    
    \item{$R = \{S \rightarrow \epsilon$, $S \rightarrow Sbb$, $S \rightarrow aSb\}$}
\end{itemize}


\part{c} $G = (V, \Sigma, R, S)$ where:

\begin{itemize}
    \item{$V = \{S, S_1, R_1, T_1, S_2, R_2, T_2\}$}
    \item{$\Sigma = \{a, b, c, d\}$}
\end{itemize}
    
\par Note that the equation $m + n = p + q$ means that for every $a$ or $b$ added we need to add a new $c$ or $d$. To do that we are going to build the string from the outside to inside adding for every $a$ or $b$ a new $d$ or a new $c$. You should also note that it's hard have the pair of rules "for every $a$ add a new $c$" and "for every $b$ add a new $d$" because they intersect each other; to deal with this we are going to create rules for two different situations: $m \geq q$ and $m \leq q$.
\par In the case where $m \geq q$ we are looking for the language $L_1 = \{a^mb^nc^pd^q$ $|$ $m + n = p + q$, $m \geq q\} $ generate the strings with the following rules:
\par 1 $S_1 \rightarrow aS_1d | R_1$
\par 2 $R_1 \rightarrow aR_1c | T_1$
\par 3 $T_1 \rightarrow bT_1c | \epsilon$
\par We do not need a rule that adds a new $d$ when adding a $b$ because we assumed that $m \geq q$ therefore every $d$ of a string would already have been added by rule 1.
\par In the case where $m \leq q$ we are looking for the language $L_2 = \{a^mb^nc^pd^q$ $|$ $m + n = p + q$, $m \leq q\} $ generate the strings with the following rules:
\par 4 $S_2 \rightarrow aS_2d | R_2$
\par 5 $R_2 \rightarrow bR_2d | T_2$
\par 6 $T_2 \rightarrow bT_2c | \epsilon$
\par Simmilarly we do not need a rule that adds a new $c$ when adding a $a$ because we assumed that $m \leq q$ therefore every $a$ of a string would already have been added by rule 4.
    Now the last rule we need is the one that makes the union of $L_1$ and $L_2$: 
\par 7 $S \rightarrow S_1 | S_2$

\begin{itemize}    
    \item{$R = \{S \rightarrow S_1 | S_2$, 
        $S_1 \rightarrow aS_1d | R_1$,
        $R_1 \rightarrow aR_1c | T_1$,
        $T_1 \rightarrow bT_1c | \epsilon$,
        $S_2 \rightarrow aS_2d | R_2$,
        $R_2 \rightarrow bR_2d | T_2$,
        $T_2 \rightarrow bT_2c | \epsilon\}$
      }
\end{itemize}




\question{4}{}
$G = (V, \Sigma, R, S)$ where:
\begin{itemize}
    \item{$V = \{S, R\}$}
    \item{$\Sigma = \{a, b, *, (, ), +, \varepsilon \}$}; to avoid ambiguity we are going to use the symbol $\varepsilon$ to represent the empty string in the regular expressions we want to build.
\end{itemize}

\par To create all the regular expressions we are going to use two different variables: $R$ and $S$. The variable $S$ represents any non-empty regular expression while $R$ can be either $S$ or the empty string $\epsilon$.

\par 1 $S \rightarrow aR$
\par 2 $S \rightarrow bR$
\par 3 $S \rightarrow \varepsilon R$
\par 4 $S \rightarrow S^*R$
\par 5 $S \rightarrow (S)R$
\par 6 $S \rightarrow S + S$
\par 7 $R \rightarrow S$
\par 8 $R \rightarrow \epsilon$
\begin{itemize}    
    \item{$R = \{
        S \rightarrow aR, 
        S \rightarrow bR, 
        S \rightarrow \varepsilon R,
        S \rightarrow S^*R, 
        S \rightarrow (S)R,
        S \rightarrow S + S,
        R \rightarrow S,
        R \rightarrow \epsilon
    \}$
    }
\end{itemize}

\end{document}
